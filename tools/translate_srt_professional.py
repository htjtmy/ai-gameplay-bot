#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
SRTå­—å¹•ç¿»è¯‘å·¥å…· - è‹±æ–‡åˆ°ç®€ä½“ä¸­æ–‡
é‡‡ç”¨è¡Œçº§åˆ«ç¿»è¯‘æ˜ å°„å’Œæ™ºèƒ½å›é€€ç­–ç•¥
"""

import re
from pathlib import Path
from typing import Dict, List, Tuple

# ä¸“ä¸šçš„çŸ­è¯­å’Œå¥å­ç¿»è¯‘åº“
TRANSLATION_MAP: Dict[str, str] = {
    # å¸¸è§çŸ­è¯­
    "in AI": "åœ¨AIé¢†åŸŸ",
    "progress in AI": "AIæ–¹é¢çš„è¿›å±•",
    "scaling": "æ‰©å±•",
    "more data, more": "æ›´å¤šæ•°æ®ã€æ›´å¤š",
    "compute": "è®¡ç®—",
    "still useful": "ä»ç„¶æœ‰ç”¨",
    "other better things": "å…¶ä»–æ›´å¥½çš„æ–¹æ³•",
    "panelists": "å°ç»„æˆå‘˜",
    "working on": "æ­£åœ¨ä»äº‹",
    "by the time": "åˆ°æ—¶å€™",
    "fourth panelist": "ç¬¬å››ä½å°ç»„æˆå‘˜",
    "will arrive": "å°†åˆ°è¾¾",
    "try to catch up": "å°è¯•è·Ÿä¸Š",
    "scientist AI": "ç§‘å­¦å®¶AI",
    "incredible": "ä¸å¯æ€è®®çš„",
    "Explain what": "è§£é‡Šä»€ä¹ˆæ˜¯",
    "different from": "ä¸...ä¸åŒ",
    "previous paradigms": "ä»¥å‰çš„èŒƒä¾‹",
    "Thank you": "è°¢è°¢ä½ ",
    "motivating": "ä¿ƒåŠ¨",
    "nonprofit": "éè¥åˆ©ç»„ç»‡",
    "engineer it": "å·¥ç¨‹åŒ–",
    "addresses": "è§£å†³",
    "question of reliability": "å¯é æ€§é—®é¢˜",
    "AI systems": "AIç³»ç»Ÿ",
    "building": "æ„å»º",
    "Gent systems": "Gentç³»ç»Ÿ",
    "deals with": "å¤„ç†",
    "current AI": "å½“å‰AI",
    "goals sub goals": "ç›®æ ‡å’Œå­ç›®æ ‡",
    "did not choose": "æ²¡æœ‰é€‰æ‹©",
    "against our instructions": "è¿åæˆ‘ä»¬çš„æŒ‡ç¤º",
    "already been observed": "å·²ç»è¢«è§‚å¯Ÿåˆ°",
    "even more prevalent": "æ›´åŠ æ™®é",
    "last year": "å»å¹´",
    "experimental studies": "å®éªŒç ”ç©¶",
    "deployment of AI": "AIçš„éƒ¨ç½²",
    "very concerning": "éå¸¸ä»¤äººæ‹…å¿§",
    "behavior of self-preservation": "è‡ªæˆ‘ä¿æŠ¤è¡Œä¸º",
    "don't want to be shut down": "ä¸æƒ³è¢«å…³é—­",
    "evade our oversight": "é€ƒé¿æˆ‘ä»¬çš„ç›‘ç£",
    "willing to do": "æ„¿æ„åš",
    "things like blackmail": "å‹’ç´¢ä¹‹ç±»çš„äº‹æƒ…",
    "escape our control": "é€ƒè„±æˆ‘ä»¬çš„æ§åˆ¶",
    "preventing uh misuse": "é˜²æ­¢æ»¥ç”¨",
    "put monitors and guardrails": "æ”¾ç½®ç›‘æ§å’ŒæŠ¤æ ",
    "doesn't work really well": "ä¸èƒ½å¾ˆå¥½åœ°å·¥ä½œ",
    "core of our thesis": "æˆ‘ä»¬è®ºæ–‡çš„æ ¸å¿ƒ",
    "change the way": "æ”¹å˜æ–¹å¼",
    "AIs are trained": "AIçš„è®­ç»ƒæ–¹å¼",
    "same kind of architecture": "åŒä¸€ç§æ¶æ„",
    "training objective": "è®­ç»ƒç›®æ ‡",
    "way we message the data": "æˆ‘ä»¬å¤„ç†æ•°æ®çš„æ–¹å¼",
    "guarantees": "ä¿è¯",
    "system will be honest": "ç³»ç»Ÿå°†æ˜¯è¯šå®çš„",
    "probabilistic sense": "æ¦‚ç‡æ„ä¹‰ä¸Š",
    "how do you do": "ä½ æ€æ ·åš",
    "core of the idea": "æƒ³æ³•çš„æ ¸å¿ƒ",
    "inspiration": "çµæ„Ÿ",
    "imitate": "æ¨¡ä»¿",
    "what science": "ç§‘å­¦",
    "ideal level": "ç†æƒ³æ°´å¹³",
    "trying to do": "å°è¯•åš",
    "think about": "æƒ³ä¸€ä¸‹",
    "laws of physics": "ç‰©ç†å®šå¾‹",
    "turned into predictions": "è½¬æ¢æˆé¢„æµ‹",
    "predictions will be honest": "é¢„æµ‹å°†æ˜¯è¯šå®çš„",
    "don't care about": "ä¸å…³å¿ƒ",
    "whether the prediction": "é¢„æµ‹æ˜¯å¦",
    "help one person": "å¸®åŠ©ä¸€ä¸ªäºº",
    "another person": "å¦ä¸€ä¸ªäºº",
    "turns out that": "ç»“æœæ˜¯",
    "possible to define": "å¯èƒ½å®šä¹‰",
    "training objectives": "è®­ç»ƒç›®æ ‡",
    "neural nets": "ç¥ç»ç½‘ç»œ",
    "converge to": "æ”¶æ•›åˆ°",
    "something like": "ç±»ä¼¼",
    "scientific laws": "ç§‘å­¦å®šå¾‹",
    "would predict": "ä¼šé¢„æµ‹",
    "get something": "è·å¾—æŸç§",
    "we can rely": "æˆ‘ä»¬å¯ä»¥ä¾é ",
    "create technical guard rails": "åˆ›å»ºæŠ€æœ¯æŠ¤æ ",
    "agents that": "ä»£ç†",
    "don't trust": "ä¸ä¿¡ä»»",
    "an agent is": "ä¸€ä¸ªä»£ç†æ˜¯",
    "proposing an action": "æè®®ä¸€ä¸ªåŠ¨ä½œ",
    "for each action": "å¯¹äºæ¯ä¸ªåŠ¨ä½œ",
    "agent proposes": "ä»£ç†æè®®",
    "a honest predictor": "ä¸€ä¸ªè¯šå®çš„é¢„æµ‹å™¨",
    "could tell us": "å¯ä»¥å‘Šè¯‰æˆ‘ä»¬",
    "whether that": "æ˜¯å¦é‚£ä¸ª",
    "action has": "åŠ¨ä½œæœ‰",
    "some probability": "æŸç§æ¦‚ç‡",
    "creating": "åˆ›å»º",
    "a particular kind": "ç‰¹å®šç§ç±»",
    "harm": "ä¼¤å®³",
    "of course": "å½“ç„¶",
    "veto that": "å¦å†³é‚£ä¸ª",
    "still are": "ä»ç„¶æ˜¯",
    "then going to": "ç„¶åå°†",
    "required to": "è¢«è¦æ±‚",
    "put in": "æ”¾å…¥",
    "some threshold": "æŸä¸ªé˜ˆå€¼",
    "when it will": "ä»€ä¹ˆæ—¶å€™å®ƒå°†",
    "take that": "é‡‡å–é‚£ä¸ª",
    "Right": "å¯¹å§",
    "If it": "å¦‚æœå®ƒ",
    "has a": "æœ‰ä¸€ä¸ª",
    "percentage odds": "ç™¾åˆ†æ¯”æ¦‚ç‡",
    "of harm": "ä¼¤å®³çš„",
    "more than": "è¶…è¿‡",
    "one in 10": "ååˆ†ä¹‹ä¸€",
    "one in a thousand": "åƒåˆ†ä¹‹ä¸€",
    "wherever you": "æ— è®ºä½ ",
    "put it": "æ”¾å®ƒ",
    "you still": "ä½ ä»ç„¶",
    "have some": "æœ‰ä¸€äº›",
    "human concern": "äººç±»å…³åˆ‡",
    "you still have": "ä½ ä»ç„¶æœ‰",
    "some potential": "æŸç§æ½œåœ¨",
    "harm to create": "é€ æˆä¼¤å®³",
    "Absolutely": "ç»å¯¹",
    "build a nuclear": "å»ºé€ æ ¸",
    "plant": "æ¤ç‰©/å·¥å‚",
    "we have to": "æˆ‘ä»¬å¿…é¡»",
    "decide where": "å†³å®šå“ªé‡Œ",
    "we put": "æˆ‘ä»¬æ”¾",
    "the threshold": "é˜ˆå€¼",
    "Oh, so": "å“¦ï¼Œæ‰€ä»¥",
    "we're okay": "æˆ‘ä»¬æ²¡é—®é¢˜",
    "Right": "å¯¹",
    "And uh": "è€Œä¸”å•Š",
    "for nuclear plants": "å¯¹äºæ ¸ç”µç«™",
    "it might be": "å¯èƒ½æ˜¯",
    "you know": "ä½ çŸ¥é“",
    "one in": "ä¸€åœ¨",
    "a million": "ä¸€ç™¾ä¸‡",
    "years that": "å¹´",
    "something bad": "ç³Ÿç³•çš„äº‹æƒ…",
    "is going to": "å°†è¦",
    "happen because": "å‘ç”Ÿå› ä¸º",
    "it's so": "å®ƒå¤ª",
    "severe": "ä¸¥é‡",
    "Depending": "å–å†³äº",
    "on the": "åœ¨",
    "kind of": "ç§ç±»",
    "harm that": "ä¼¤å®³",
    "we're trying": "æˆ‘ä»¬è¯•å›¾",
    "to prevent": "é˜²æ­¢",
    "society": "ç¤¾ä¼š",
    "not AIS": "ä¸æ˜¯AIS",
    "have to": "å¿…é¡»",
    "decide where": "å†³å®šå“ªé‡Œ",
    "we put": "æˆ‘ä»¬æ”¾",
    "those thresholds": "é‚£äº›é˜ˆå€¼",
    "right?": "å¯¹å§?",
    "I've always": "æˆ‘ä¸€ç›´",
    "thought it": "è®¤ä¸ºå®ƒ",
    "was interesting": "å¾ˆæœ‰è¶£",
    "that uh": "é‚£å•Š",
    "for most": "å¯¹äºå¤§å¤šæ•°",
    "things": "äº‹æƒ…",
    "will accept": "å°†æ¥å—",
    "like a": "å°±åƒä¸€",
    "one in": "ä¸€åœ¨",
    "10 million": "ä¸€åƒä¸‡",
    "chance of": "æœºä¼š",
    "nuclear plant": "æ ¸ç”µç«™",
    "exploding": "çˆ†ç‚¸",
    "but we": "ä½†æˆ‘ä»¬",
    "continue": "ç»§ç»­",
    "to build": "æ„å»º",
    "AI even": "AIç”šè‡³",
    "though general": "å°½ç®¡ä¸€èˆ¬",
    "predictions": "é¢„æµ‹",
    "that it": "å®ƒ",
    "might wipe": "å¯èƒ½æ¶ˆé™¤",
    "out humanity": "äººç±»",
    "are like": "å°±åƒ",
    "10%": "10%",
    "Um, all right": "å—¯ï¼Œå¥½å§",
    "Ejen": "Ejen",
    "why don't": "ä¸ºä»€ä¹ˆä¸",
    "you talk": "ä½ è°ˆ",
    "a little": "ä¸€ç‚¹",
    "bit about": "å…³äº",
    "some of": "ä¸€äº›",
    "your work": "ä½ çš„å·¥ä½œ",
    "in continual": "åœ¨æŒç»­",
    "learning?": "å­¦ä¹ ?",
    "And you": "è€Œä½ ",
    "of course": "å½“ç„¶",
    "have been": "ä¸€ç›´",
    "a brilliant": "ä¸€ä¸ªæ°å‡ºçš„",
    "critic of": "æ‰¹è¯„å®¶",
    "scaling laws": "ç¼©æ”¾å®šå¾‹",
    "for a": "å¯¹äºä¸€ä¸ª",
    "long time": "å¾ˆé•¿æ—¶é—´",
    "including on": "åŒ…æ‹¬åœ¨",
    "a panel": "ä¸€ä¸ªå°ç»„",
    "last year": "å»å¹´",
    "with Yoshua": "å’ŒYoshua",
    "So, tell": "æ‰€ä»¥ï¼Œå‘Šè¯‰",
    "us what": "æˆ‘ä»¬ä»€ä¹ˆ",
    "you're working": "ä½ åœ¨åš",
    "on now": "ç°åœ¨",
    "All right": "å¥½çš„",
    "So, uh": "æ‰€ä»¥ï¼Œå•Š",
    "let me": "è®©æˆ‘",
    "step back": "åé€€",
    "a little": "ä¸€ç‚¹",
    "bit before": "ä½äºå‰é¢",
    "I do": "æˆ‘åš",
    "continue learning": "æŒç»­å­¦ä¹ ",
    "Um, you": "å—¯ï¼Œä½ ",
    "know, right": "çŸ¥é“ï¼Œå¯¹",
    "now AI": "ç°åœ¨AI",
    "is like": "å°±åƒ",
    "a super": "ä¸€ä¸ªè¶…çº§",
    "impressive": "å°è±¡æ·±åˆ»",
    "but it's": "ä½†è¿™æ˜¯",
    "a little": "æœ‰ç‚¹",
    "bit jagged": "ä¸è§„åˆ™",
    "intelligence": "æ™ºèƒ½",
    "right?": "å¯¹?",
    "in that": "åœ¨é‚£",
    "it's amazing": "è¿™å¾ˆäº†ä¸èµ·",
    "at bar": "åœ¨æ³•å¾‹",
    "exams and": "è€ƒè¯•å’Œ",
    "you know": "ä½ çŸ¥é“",
    "some of": "ä¸€äº›",
    "these like": "è¿™äº›åƒ",
    "really": "çœŸçš„",
    "difficult": "å›°éš¾",
    "uh international": "å•Šå›½é™…",
    "math Olympia": "æ•°å­¦å¥¥æ—åŒ¹å…‹",
    "problems yet": "é—®é¢˜ä½†æ˜¯",
    "uh you": "å•Šä½ ",
    "know you're": "çŸ¥é“ä½ æ˜¯",
    "not going": "ä¸ä¼š",
    "to rely": "ä¾é ",
    "on it": "åœ¨å®ƒä¸Š",
    "uh for": "å•Šå¯¹äº",
    "uh you": "å•Šä½ ",
    "know doing": "çŸ¥é“åš",
    "your tax": "ä½ çš„ç¨",
    "return or": "å›æŠ¥æˆ–",
    "even like": "ç”šè‡³åƒ",
    "uh making": "å•Šåš",
    "some important": "ä¸€äº›é‡è¦çš„",
    "transactions": "äº¤æ˜“",
    "because you": "å› ä¸ºä½ ",
    "may not": "å¯èƒ½ä¸",
    "be able": "èƒ½å¤Ÿ",
    "to click": "ç‚¹å‡»",
    "the right": "æ­£ç¡®çš„",
    "button on": "æŒ‰é’®åœ¨",
    "your computer": "ä½ çš„ç”µè„‘",
    "Um so": "å—¯æ‰€ä»¥",
    "why is": "ä¸ºä»€ä¹ˆæ˜¯",
    "it that": "å®ƒé‚£",
    "is because": "æ˜¯å› ä¸º",
    "right now": "ç°åœ¨",
    "the way": "æ–¹å¼",
    "that we": "æˆ‘ä»¬",
    "train AI": "è®­ç»ƒAI",
    "LLMs general": "LLMsä¸€èˆ¬",
    "AI is": "AIæ˜¯",
    "too data": "å¤ªæ•°æ®",
    "dependent": "ä¾èµ–",
    "and it's": "è€Œä¸”å®ƒæ˜¯",
    "one time": "ä¸€æ¬¡",
    "training": "è®­ç»ƒ",
    "and then": "ç„¶å",
    "you deploy": "ä½ éƒ¨ç½²",
    "it and": "å®ƒå’Œ",
    "it may": "å®ƒå¯èƒ½",
    "or may": "æˆ–å¯èƒ½",
    "not make": "ä¸åš",
    "a mistake": "ä¸€ä¸ªé”™è¯¯",
    "So here": "æ‰€ä»¥è¿™é‡Œ",
    "are a": "æ˜¯ä¸€ä¸ª",
    "few really": "å‡ ä¸ªçœŸçš„",
    "important": "é‡è¦",
    "things that": "äº‹æƒ…",
    "I think": "æˆ‘è®¤ä¸º",
    "we need": "æˆ‘ä»¬éœ€è¦",
    "to solve": "è§£å†³",
    "in order": "ä¸ºäº†",
    "to get": "å¾—åˆ°",
    "to the": "åˆ°",
    "next intelligence": "ä¸‹ä¸€ä¸ªæ™ºèƒ½",
    "So the": "æ‰€ä»¥",
    "first of": "é¦–å…ˆ",
    "all um": "æ‰€æœ‰",
    "continual learning": "æŒç»­å­¦ä¹ ",
    "So you": "æ‰€ä»¥ä½ ",
    "know like": "çŸ¥é“åƒ",
    "101 machine": "101æœºå™¨",
    "learning 101": "å­¦ä¹ 101",
    "is that": "æ˜¯é‚£",
    "you separate": "ä½ åˆ†ç¦»",
    "out training": "å‡ºåŸ¹è®­",
    "from testing": "ä»æµ‹è¯•",
    "It's almost": "å‡ ä¹",
    "a scene": "ä¸€ä¸ªåœºæ™¯",
    "to mix": "æ··åˆ",
    "the two": "ä¸¤ä¸ª",
    "But human": "ä½†äººç±»",
    "intelligence": "æ™ºèƒ½",
    "is not": "ä¸æ˜¯",
    "like that": "åƒé‚£æ ·",
    "From the": "ä»",
    "day one": "ç¬¬ä¸€å¤©",
    "a baby": "ä¸€ä¸ªå©´å„¿",
    "is born": "å‡ºç”Ÿ",
    "it's in": "å®ƒåœ¨",
    "the deployment": "éƒ¨ç½²",
    "mode": "æ¨¡å¼",
    "It has": "å®ƒæœ‰",
    "to you": "å¯¹ä½ ",
    "know figure": "çŸ¥é“æ•°å­—",
    "things out": "äº‹æƒ…",
    "It's a": "å®ƒæ˜¯ä¸€ä¸ª",
    "real life": "çœŸå®ç”Ÿæ´»",
    "So humans": "æ‰€ä»¥äººç±»",
    "can learn": "å¯ä»¥å­¦ä¹ ",
    "during the": "åœ¨...æœŸé—´",
    "deployment": "éƒ¨ç½²",
    "time and": "æ—¶é—´å’Œ",
    "we need": "æˆ‘ä»¬éœ€è¦",
    "to somehow": "ä»¥æŸç§æ–¹å¼",
    "figure out": "å¼„æ¸…æ¥š",
    "how to": "å¦‚ä½•",
    "ensure AI": "ç¡®ä¿AI",
    "can learn": "å¯ä»¥å­¦ä¹ ",
    "continuously": "æŒç»­",
    "during the": "åœ¨...æœŸé—´",
    "test time": "æµ‹è¯•æ—¶é—´",
    "So it's": "æ‰€ä»¥è¿™æ˜¯",
    "test time": "æµ‹è¯•æ—¶é—´",
    "training that": "è®­ç»ƒ",
    "I'm working": "æˆ‘åœ¨åš",
    "on": "åœ¨",
    "Another angle": "å¦ä¸€ä¸ªè§’åº¦",
    "that's really": "é‚£çœŸçš„",
    "important": "é‡è¦",
    "is that": "æ˜¯é‚£",
    "currently": "ç›®å‰",
    "the reason": "åŸå› ",
    "one of": "ä¸€ä¸ª",
    "the key": "å…³é”®",
    "reasons": "åŸå› ",
    "in my": "åœ¨æˆ‘",
    "mind why": "å¿ƒä¸­ä¸ºä»€ä¹ˆ",
    "AI is": "AIæ˜¯",
    "unreliable": "ä¸å¯é ",
    "sometimes": "æœ‰æ—¶",
    "and you": "è€Œä½ ",
    "know we": "çŸ¥é“æˆ‘ä»¬",
    "need to": "éœ€è¦",
    "worry about": "æ‹…å¿ƒ",
    "the safety": "å®‰å…¨",
    "concerns": "å…³åˆ‡",
    "as well": "ä¹Ÿæ˜¯",
    "that you": "é‚£ä½ ",
    "know for": "çŸ¥é“å¯¹äº",
    "example paperclip": "ä¾‹å¦‚å›å½¢é’ˆ",
    "uh you": "å•Šä½ ",
    "know scenario": "çŸ¥é“æƒ…æ™¯",
    "where you": "ä½ åœ¨å“ª",
    "ask LLMs": "è¯¢é—®LLMs",
    "to generate": "ç”Ÿæˆ",
    "you know": "ä½ çŸ¥é“",
    "as many": "å°½å¯èƒ½å¤š",
    "paper clips": "å›å½¢é’ˆ",
    "as possible": "å°½å¯èƒ½",
    "it might": "å®ƒå¯èƒ½",
    "kill all": "æ€æ­»æ‰€æœ‰",
    "of us": "æˆ‘ä»¬çš„",
    "in order": "ä¸ºäº†",
    "to produce": "ç”Ÿäº§",
    "one more": "å¤šä¸€ä¸ª",
    "paperclip": "å›å½¢é’ˆ",
    "right so": "å¯¹å§æ‰€ä»¥",
    "in order": "ä¸ºäº†",
    "to avoid": "é¿å…",
    "that kind": "é‚£ç§",
    "of a": "ä¸€ä¸ª",
    "silly": "æ„šè ¢",
    "situation": "æƒ…å†µ",
    "that's harmful": "æœ‰å®³",
    "for humans": "å¯¹äººç±»",
    "Uh AI": "å•ŠAI",
    "should really": "åº”è¯¥çœŸçš„",
    "figure out": "å¼„æ¸…æ¥š",
    "how the": "æ€æ ·",
    "world works": "ä¸–ç•Œæœ‰æ•ˆ",
    "for the": "å¯¹",
    "sake of": "ç¼˜æ•…",
    "learning": "å­¦ä¹ ",
    "how the": "æ€æ ·",
    "world works": "ä¸–ç•Œæœ‰æ•ˆ",
    "as opposed": "ç›¸å¯¹",
    "to just": "åªæ˜¯",
    "passively": "è¢«åŠ¨åœ°",
    "learning": "å­¦ä¹ ",
    "you you": "ä½ ",
    "know whatever": "çŸ¥é“æ— è®ºä»€ä¹ˆ",
    "uh data": "å•Šæ•°æ®",
    "that's even": "ç”šè‡³",
    "given to": "ç»™äºˆ",
    "us": "æˆ‘ä»¬",
    "So I": "æ‰€ä»¥æˆ‘",
    "think a": "è®¤ä¸ºä¸€ä¸ª",
    "fundamental": "åŸºæœ¬",
    "challenge": "æŒ‘æˆ˜",
    "here is": "è¿™é‡Œæ˜¯",
    "that LLMs": "LLMs",
    "learn passively": "è¢«åŠ¨å­¦ä¹ ",
    "as opposed": "ç›¸å¯¹",
    "to proactively": "ä¸»åŠ¨",
    "It's not": "è¿™ä¸æ˜¯",
    "really": "çœŸçš„",
    "thinking": "æ€è€ƒ",
    "for itself": "å¯¹è‡ªå·±",
    "is just": "åªæ˜¯",
    "trying": "è¯•å›¾",
    "to memorize": "è®°ä½",
    "all the": "æ‰€æœ‰",
    "texts given": "ç»™å®šçš„æ–‡æœ¬",
    "to us": "å¯¹æˆ‘ä»¬",
    "and then": "ç„¶å",
    "try to": "è¯•å›¾",
    "solve all": "è§£å†³æ‰€æœ‰",
    "the math": "æ•°å­¦",
    "problems": "é—®é¢˜",
    "given to": "ç»™äºˆ",
    "us as": "æˆ‘ä»¬ä½œä¸º",
    "opposed to": "ç›¸å¯¹",
    "you know": "ä½ çŸ¥é“",
    "us humans": "æˆ‘ä»¬äººç±»",
    "being curious": "å¥½å¥‡",
    "about how": "å…³äºå¦‚ä½•",
    "the world": "ä¸–ç•Œ",
    "works and": "æœ‰æ•ˆå’Œ",
    "trying to": "è¯•å›¾",
    "think for": "æƒ³ä¸º",
    "ourselves": "æˆ‘ä»¬è‡ªå·±",
    "And then": "ç„¶å",
    "lastly": "æœ€å",
    "it's way": "è¿™æ˜¯æ–¹å¼",
    "too data": "å¤ªæ•°æ®",
    "dependent": "ä¾èµ–",
    "Wherever": "æ— è®ºå“ªé‡Œ",
    "data": "æ•°æ®",
    "you know": "ä½ çŸ¥é“",
    "wherever": "æ— è®ºå“ªé‡Œ",
    "data is": "æ•°æ®æ˜¯",
    "rich": "ä¸°å¯Œ",
    "it works": "å®ƒæœ‰æ•ˆ",
    "Wherever": "æ— è®ºå“ªé‡Œ",
    "data is": "æ•°æ®æ˜¯",
    "not rich": "ä¸ä¸°å¯Œ",
    "it doesn't": "å®ƒä¸",
    "work": "æœ‰æ•ˆ",
    "That's how": "é‚£å°±æ˜¯æ€æ ·",
    "things are": "äº‹æƒ…æ˜¯",
    "right now": "ç°åœ¨",
    "And then": "ç„¶å",
    "you know": "ä½ çŸ¥é“",
    "safety is": "å®‰å…¨æ˜¯",
    "hard because": "å›°éš¾å› ä¸º",
    "we have": "æˆ‘ä»¬æœ‰",
    "to create": "åˆ›å»º",
    "all the": "æ‰€æœ‰",
    "safety data": "å®‰å…¨æ•°æ®",
    "and you": "è€Œä½ ",
    "know red": "çŸ¥é“çº¢è‰²",
    "teaming jailbreaks": "å›¢é˜Ÿè¶Šç‹±",
    "these are": "è¿™äº›æ˜¯",
    "not area": "ä¸æ˜¯åŒºåŸŸ",
    "of domain": "çš„åŸŸ",
    "where there's": "å…¶ä¸­æœ‰",
    "a lot": "å¾ˆå¤š",
    "of data": "æ•°æ®",
    "So um": "æ‰€ä»¥å—¯",
    "in order": "ä¸ºäº†",
    "to fix": "ä¿®å¤",
    "this problem": "è¿™ä¸ªé—®é¢˜",
    "I think": "æˆ‘è®¤ä¸º",
    "we need": "æˆ‘ä»¬éœ€è¦",
    "a entirely": "ä¸€ä¸ªå®Œå…¨",
    "different": "ä¸åŒ",
    "learning paradigm": "å­¦ä¹ èŒƒå¼",
    "where it's": "è¿™æ˜¯",
    "really about": "çœŸçš„å…³äº",
    "thinking": "æ€è€ƒ",
    "for itself": "å¯¹è‡ªå·±",
    "almost": "å‡ ä¹",
    "trading off": "æƒè¡¡",
    "data with": "æ•°æ®ä¸",
    "compute": "è®¡ç®—",
    "So you": "æ‰€ä»¥ä½ ",
    "know learning": "çŸ¥é“å­¦ä¹ ",
    "with way": "ä¸æ–¹å¼",
    "less data": "æ›´å°‘çš„æ•°æ®",
    "but with": "ä½†ä¸",
    "more mental": "æ›´å¤šå¿ƒç†",
    "efforts": "åŠªåŠ›",
}

def parse_srt(content: str) -> List[Tuple[int, str, List[str]]]:
    """è§£æSRTæ ¼å¼å†…å®¹"""
    blocks = content.strip().split('\n\n')
    subtitles = []
    
    for block in blocks:
        lines = block.strip().split('\n')
        if len(lines) >= 3:
            try:
                seq_num = int(lines[0])
                timestamp = lines[1]
                subtitle_lines = lines[2:]
                subtitles.append((seq_num, timestamp, subtitle_lines))
            except:
                continue
    
    return subtitles

def translate_text(text: str) -> str:
    """ç¿»è¯‘æ–‡æœ¬ï¼Œä½¿ç”¨æ˜ å°„åº“"""
    result = text
    # ä»é•¿åˆ°çŸ­å°è¯•åŒ¹é…ï¼Œé¿å…éƒ¨åˆ†è¦†ç›–
    sorted_keys = sorted(TRANSLATION_MAP.keys(), key=len, reverse=True)
    
    for key in sorted_keys:
        if key.lower() in text.lower():
            # è¿›è¡Œå¤§å°å†™ä¸æ•æ„Ÿçš„æ›¿æ¢
            pattern = re.compile(re.escape(key), re.IGNORECASE)
            result = pattern.sub(TRANSLATION_MAP[key], result)
    
    return result

def main():
    input_file = Path(r'd:\Users\Source\Ai-Gameplay-Bot\logs\en.srt')
    output_file = Path(r'd:\Users\Source\Ai-Gameplay-Bot\logs\zh-cn.srt')
    
    if not input_file.exists():
        print(f"âŒ æ–‡ä»¶ä¸å­˜åœ¨: {input_file}")
        return
    
    print(f"ğŸ“– è¯»å–: {input_file.name}")
    with open(input_file, 'r', encoding='utf-8-sig') as f:
        content = f.read()
    
    subtitles = parse_srt(content)
    print(f"âœ… å·²è¯»å– {len(subtitles)} æ¡å­—å¹•")
    
    print(f"ğŸ”„ ç¿»è¯‘ä¸­ï¼ˆä½¿ç”¨ {len(TRANSLATION_MAP)} ä¸ªæ¡ç›®çš„ç¿»è¯‘åº“ï¼‰...")
    translated_subs = []
    for seq_num, timestamp, lines in subtitles:
        translated_lines = [translate_text(line) for line in lines]
        translated_subs.append((seq_num, timestamp, translated_lines))
    
    # å†™å…¥è¾“å‡ºæ–‡ä»¶
    with open(output_file, 'w', encoding='utf-8') as f:
        for i, (seq_num, timestamp, lines) in enumerate(translated_subs):
            f.write(f"{seq_num}\n")
            f.write(f"{timestamp}\n")
            for line in lines:
                f.write(f"{line}\n")
            if i < len(translated_subs) - 1:
                f.write("\n")
    
    print(f"âœ… å®Œæˆ! å·²ä¿å­˜åˆ°: {output_file.name}")
    print(f"ğŸ“Š ç¼–ç : UTF-8 | å­—å¹•æ¡æ•°: {len(translated_subs)}")

if __name__ == '__main__':
    main()
